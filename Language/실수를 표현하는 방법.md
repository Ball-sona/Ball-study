# 실수 표현

실수를 표현하는 방법에는 크게 2가지가 있다.

- 고정 소수점: 소수점에 이용하는 범위를 고정해놓기 때문에 수의 표현 범위가 크지 않다.
- 부동 소수점: 소수점을 이용하지 않으면 그만큼 다른 수를 표현할 수 있도록 더 넓은 범위를 갖는다.

정확도는 고정 소수점이 더 높지만, 더 넓은 범위의 숫자를 표현하기 위해 대부분의 컴퓨터에서는 **부동 소수점 방식**을 사용한다.

## IEEE 754

숫자를 부동 소수점으로 표현하는 방법에는 'IEEE 754' 라는 표준 방식이 있다. 이 방식에서 숫자는 부호부, 지수부, 가수부 총 3부분으로 구성되고, 숫자를 표현하기 위해 32비트를 사용하면 단정밀도(single precision), 64비트를 사용하면 배정밀도(double precision) 표현이라고 한다.

- 부호부(Sign): 1비트. 양수면 0, 음수면 1이 들어간다.
- 지수부(Exponent): 8비트(11비트). 지수를 나타낸다.
- 가수부(Mantissa): 23비트(52비트). 가수 또는 유효숫자를 나타낸다.

### 표현 방법

단정밀도 방식으로 -314.625를 표현해보자.

![_images/floating_point_10.png](https://codetorial.net/articles/_images/floating_point_10.png)

1. 음수이므로 가장 앞자리 비트로 1을 넣는다.

2. 314.625를 2진수로 변환하면 `100111010.101` 이다. 이 2진수의 소수점을 왼쪽으로 이동시켜서 소수점 왼쪽에 1만 남도록 하면 `1.00111010101 x 2^8`로 표현할 수 있다.

3. 소수점 오른쪽 부분인 `00111010101`를 가수부의 앞에서부터 채워주고 남는 자리는 0을 넣는다.

4. 지수부에는 지수 8와 bias인 127을 더한 135를 2진수로 변환해 넣어준다.

   > bias는 2^(k-1)인데 k는 지수부의 비트수다.

[참고: 숫자를 부동소수점 방식으로 표현하기](https://codetorial.net/articles/floating_point.html)

### 정밀도

64비트를 사용하여 숫자를 표현하는 배정밀도는 32비트를 사용하는 단정밀도에 비해 가수부를 표현할 수 있는 크기가 더 크기 때문에(52 bit > 23 bit) 오차 범위가 작고, 더 정확하다.

## C

C언어에는 실수를 표현할 수 있는 타입으로 float형과 double형이 있다.

- float형은 단정밀도 부동 소수점 방식으로 표현한다.
- double형은 배정밀도 부동 소수점 방식으로 표현한다.

메모리를 많이 아껴야 하는 임베디드 시스템이 아니라면, 더 정확하게 실수를 표현할 수 있는 double형을 사용한다.

## Java

C와 동일하게 float형과 double형으로 실수를 표현한다.

## Javascript

자바스크립트에는 숫자의 자료형이라는 게 사실상 따로 없다.

다른 언어들과 마찬가지로 일반 숫자는 배정밀도 부동 소수점 방식으로 표현되고, 이보다 더 큰 숫자는 BigInt라는 자료형으로 표현할 수 있다.
