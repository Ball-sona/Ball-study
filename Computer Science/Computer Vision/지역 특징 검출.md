# 지역 특징 검출

지역 특징을 어떻게 검출할까

## 모라벡 알고리즘

제곱차의 합을 사용해 화소의 특징점 여부를 검출하는 방식이다. 

- 특정 좌표에서의 S(u,v) 맵을 구한다
- 제곱차의 합은 어떤 점이 다른 점과 얼마나 두드러지게 다른지 측정해주는 역할
- min(S(0,1), S(0,-1), S(1,0), S(-1,0))을 측정하고 여기서 최소값을 지역 특징이라고 간주한다. 
- 한 화소에 대해 네 방향만 살펴본다는 점, 잡음에 대한 대처가 없다는 점이 단점

## 해리스 코너

해리스 코너는 모라벡 알고리즘의 취약점을 보안한 방식이다.

잡음에 대처하기 위해 가우시안 윈도우를 사용하고, 테일러 전개를 이용해 4방향이 아닌 모든 방향의 shift를 고려한다.

또 S(u,v)의 최솟값만 고려하는 것이 아닌 S(u,v)의 변화값을 고려한다. 

### 해리스 코너 과정

1. 이미지의 Gradient를 계산한다.  -> dx,dy
2. dx^2, dy^2, dxdy 행렬과 가우시안 마스크를 컨볼루션 하여 2차 모멘트 행렬 A를 구한다.
3. 행렬 A에서 고유값 a,b를 구하고 이 고유값을 이용해 특징 가능성 값인 C를 구한다.
4. C에 임계값을 설정하여 코너(특징점)을 찾는다. 

### 고유값 분석

- 두개의 고유값이 모두 0이거나 0에 가까우면 -> 변화 거의 없음
- 고유값이 하나는 크고 하나는 작다면 -> 한 방향으로만 변화가 있는 에지
- 고유값 두개가 모두 크면 -> 여러 방향으로 변화가 있는 지점. 특징점 가능성이 높다.

## SIFT

- 피라미드 + 가우시안 구조
- 각 층은 여섯 영상의 묶음으로 구성되어 있고, 시그마i로 스무딩한다.